{"version":3,"sources":["webpack:///./src/pages/moonfestival/assets/images/default_share.png","webpack:///./src/pages/moonfestival/components/header.vue?e39d","webpack:///./src/pages/moonfestival/share/index.vue?e5c3","webpack:///src/pages/moonfestival/share/index.vue","webpack:///./src/pages/moonfestival/share/index.vue?d9f9","webpack:///./src/pages/moonfestival/share/index.vue","webpack:///./src/pages/moonfestival/components/header.vue?445f","webpack:///src/pages/moonfestival/components/header.vue","webpack:///./src/pages/moonfestival/components/header.vue?eea2","webpack:///./src/pages/moonfestival/components/header.vue","webpack:///./src/pages/moonfestival/assets/images/local2.png","webpack:///./src/pages/moonfestival/share/index.vue?5e0c","webpack:///./src/pages/moonfestival/assets/images/index_hd.png","webpack:///./src/pages/moonfestival/assets/images/local3.png","webpack:///./src/pages/moonfestival/assets/images/local1.png"],"names":["module","exports","__webpack_require__","p","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_2_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_2_3_node_modules_vue_loader_lib_index_js_vue_loader_options_header_vue_vue_type_style_index_0_id_db92aa60_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","class","in-app","ENV","app","_m","attrs","back","home","on","goBack","handleBack","src","makeFileUrl","user","avatar","crossOrigin","load","$event","avatarLoad","error","_v","_s","fullname","score","levelData","tip","tagImg","value","qrcode","val","size","click","toShare","shareData","_e","ref","share-wx-app","headImg","share-img-app","id","staticRenderFns","sharevue_type_script_lang_js","data","isDrawed","showData","defaultImg","default_share_default","a","imgUrl","components","moonHeader","header","QrcodeVue","qrcode_vue_esm","created","mint_ui_common","open","sessionStorage","resultCache","CACHE","JSON","parse","console","log","setCache","wx","initWxConfig","config","href","env","activityId","objectID","salt","computed","Object","objectSpread","vuex_esm","state","statistic","signSalt","answerId","endData","userAnswerId","level","parseInt","mounted","_this","setTimeout","drawHtmlToCanvas","methods","type","url","window","ios","setupWebViewJavascriptBridge","bridge","callHandler","img","responseCallback","android","inviteNewerAction","stringify","e","utils","_this2","self","container","$refs","canvasContainer","shareImg","document","getElementById","then","close","_ref","result","target","style","display","goResult","$router","moonfestival_sharevue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","handleClose","share","handleShare","headervue_type_script_lang_js","name","props","Boolean","$emit","exitPage","Toast","location","concat","origin","components_headervue_type_script_lang_js","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_2_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_2_3_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_lang_less__WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"sFAAAA,EAAAC,QAAAC,EAAAC,EAAA,+FCA8eC,EAAA,qECA9e,IAAAC,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,cAAAC,OAAiCC,SAAAR,EAAAS,IAAAC,OAAuBV,EAAAS,IAAA,IAAAL,EAAA,OAA0BE,YAAA,eAAyBN,EAAAW,GAAA,GAAAP,EAAA,OAAsBE,YAAA,kBAA4BF,EAAA,eAAoBQ,OAAOC,KAAA,GAAAC,KAAA,IAAoBC,IAAKC,OAAAhB,EAAAiB,cAAyBb,EAAA,OAAYE,YAAA,eAAyBF,EAAA,OAAYE,YAAA,oBAA8BN,EAAA,SAAAI,EAAA,OAA2BE,YAAA,gBAA0BF,EAAA,OAAYE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,oBAAAM,OAAuCM,IAAAlB,EAAAmB,YAAAnB,EAAAoB,KAAAC,QAAAC,YAAA,aAAiEP,IAAKQ,KAAA,SAAAC,GAAwBxB,EAAAyB,YAAA,EAAAD,IAA6BE,MAAA,SAAAF,GAA0BxB,EAAAyB,YAAA,EAAAD,SAAgCpB,EAAA,OAAcE,YAAA,oBAA8BN,EAAA2B,GAAA3B,EAAA4B,GAAA5B,EAAAoB,KAAAS,aAAAzB,EAAA,OAAgDE,YAAA,eAAyBN,EAAA2B,GAAA,kDAAAvB,EAAA,QAAsEE,YAAA,qBAA+BN,EAAA2B,GAAA,IAAA3B,EAAA4B,GAAA5B,EAAA8B,UAAA9B,EAAA2B,GAAA,yBAAAvB,EAAA,QAA6EE,YAAA,mBAA6BN,EAAA2B,GAAA3B,EAAA4B,GAAA5B,EAAA+B,UAAAC,QAAAhC,EAAA2B,GAAA,mDAAAvB,EAAA,OAA0GE,YAAA,cAAwBF,EAAA,OAAYQ,OAAOM,IAAAlB,EAAA+B,UAAAE,YAA4B7B,EAAA,OAAcE,YAAA,iBAA2BF,EAAA,cAAmBQ,OAAOsB,MAAAlC,EAAAmC,OAAAC,IAAAC,KAAArC,EAAAmC,OAAAE,SAA+C,GAAAjC,EAAA,OAAgBE,YAAA,cAAwBN,EAAA2B,GAAA,0BAAAvB,EAAA,OAA6CE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,qBAA+BF,EAAA,OAAYE,YAAA,sCAAgDF,EAAA,cAAmBQ,OAAOsB,MAAAlC,EAAAmC,OAAAC,IAAAC,KAAArC,EAAAmC,OAAAE,SAA+C,GAAAjC,EAAA,OAAgBE,YAAA,gCAA0CN,EAAA2B,GAAA,eAAAvB,EAAA,OAAkCE,YAAA,sCAA4CF,EAAA,OAAgBE,YAAA,6CAAuDF,EAAA,OAAYE,YAAA,0CAAAS,IAA0DuB,MAAA,SAAAd,GAAyBxB,EAAAuC,QAAA,2BAAAvC,EAAAwC,eAAyDpC,EAAA,QAAaE,YAAA,WAAqBF,EAAA,QAAAJ,EAAA2B,GAAA,UAAAvB,EAAA,OAAwCE,YAAA,0CAAAS,IAA0DuB,MAAA,SAAAd,GAAyBxB,EAAAuC,QAAA,+BAAAvC,EAAAwC,eAA6DpC,EAAA,QAAaE,YAAA,QAAkBF,EAAA,QAAAJ,EAAA2B,GAAA,WAAAvB,EAAA,OAAyCE,YAAA,0CAAAS,IAA0DuB,MAAA,SAAAd,GAAyBxB,EAAAuC,QAAA,gCAAAvC,EAAAwC,eAA8DpC,EAAA,QAAaE,YAAA,aAAuBF,EAAA,QAAAJ,EAAA2B,GAAA,uBAAA3B,EAAAyC,KAAArC,EAAA,OAA8DsC,IAAA,kBAAApC,YAAA,WAAAC,OAAoDoC,eAAA3C,EAAAS,IAAAC,OAA6BV,EAAAW,GAAA,GAAAP,EAAA,OAAsBE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,oBAA8BN,EAAA,SAAAI,EAAA,OAA2BE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,mBAA6BF,EAAA,OAAYE,YAAA,oBAAAM,OAAuCM,IAAAlB,EAAAmB,YAAAnB,EAAAoB,KAAAC,QAAAC,YAAA,aAAiEP,IAAKQ,KAAA,SAAAC,GAAwBxB,EAAAyB,YAAA,EAAAD,IAA6BE,MAAA,SAAAF,GAA0BxB,EAAAyB,YAAA,EAAAD,SAAgCpB,EAAA,OAAcE,YAAA,oBAA8BN,EAAA2B,GAAA3B,EAAA4B,GAAA5B,EAAAoB,KAAAS,aAAAzB,EAAA,OAAgDE,YAAA,eAAyBN,EAAA2B,GAAA,8CAAAvB,EAAA,QAAkEE,YAAA,qBAA+BN,EAAA2B,GAAA,IAAA3B,EAAA4B,GAAA5B,EAAA8B,UAAA9B,EAAA2B,GAAA,uBAAAvB,EAAA,QAA2EE,YAAA,mBAA6BN,EAAA2B,GAAA3B,EAAA4B,GAAA5B,EAAA+B,UAAAC,QAAAhC,EAAA2B,GAAA,+CAAAvB,EAAA,OAAsGE,YAAA,cAAwBF,EAAA,OAAYQ,OAAOM,IAAAlB,EAAA+B,UAAAE,YAA4B7B,EAAA,OAAcE,YAAA,iBAA2BF,EAAA,cAAmBQ,OAAOsB,MAAAlC,EAAAmC,OAAAC,IAAAC,KAAArC,EAAAmC,OAAAE,SAA+C,GAAAjC,EAAA,OAAgBE,YAAA,cAAwBN,EAAA2B,GAAA,0BAAAvB,EAAA,OAA6CE,YAAA,kBAA4BF,EAAA,OAAYE,YAAA,cAAAM,OAAiCM,IAAAlB,EAAA4C,WAAmBxC,EAAA,OAAYE,YAAA,iCAA2CF,EAAA,cAAmBQ,OAAOsB,MAAAlC,EAAAmC,OAAAC,IAAAC,KAAArC,EAAAmC,OAAAE,SAA+C,GAAAjC,EAAA,OAAgBE,YAAA,2BAAqCN,EAAA2B,GAAA,eAAAvB,EAAA,OAAkCE,YAAA,qCAAuCF,EAAA,OAAoBE,YAAA,YAAAC,OAA+BsC,gBAAA7C,EAAAS,IAAAC,KAA6BE,OAAQM,IAAA,GAAA4B,GAAA,kBACvkIC,GAAA,WAAoC,IAAA/C,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,YAAuB,WAAc,IAAAN,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,oBAA8BF,EAAA,OAAYE,YAAA,QAAkBF,EAAA,OAAYE,YAAA,kICqHzX0C,GACAC,KADA,WAEA,OACAC,UAAA,EACAf,QACAC,IAAA,2BACAC,KAAA,IAEAc,WACAnB,IAAA,UACAC,OAAArC,EAAA,UAEAoC,IAAA,YACAC,OAAArC,EAAA,UAEAoC,IAAA,aACAC,OAAArC,EAAA,UAEAwD,WAAAC,EAAAC,EACAC,OAAA,GACAX,QAAAhD,EAAA,UAGA4D,YACAC,WAAAC,EAAA,KACAC,UAAAC,EAAA,MAEAC,QA3BA,WA8BA,GAFAC,EAAA,aAAAC,OAEAC,eAAAC,aAAA,MAAAD,eAAAC,YAAA,CACA,IAAAC,EAAAC,KAAAC,MAAAJ,eAAAC,aACAI,QAAAC,IAAA,eAAAJ,GAEAjE,KAAAsE,SAAAL,GAEAjE,KAAAQ,IAAA+D,KACAH,QAAAC,IAAA,mBACArE,KAAAwE,gBAEAxE,KAAAkC,OAAAC,IAAAsC,EAAA,KAAAC,KAAA1E,KAAAQ,IAAAmE,KAAA,oBAAA3E,KAAA4E,WAAA,YAAA5E,KAAA6E,SAAA,SAAA7E,KAAA8E,MAEAC,SAAAC,OAAAC,EAAA,KAAAD,IACAA,OAAAE,EAAA,KAAAF,CAAA,QACAH,SAAA,SAAAM,GAAA,OAAAA,EAAAhE,KAAA0D,UAAA,IACAC,KAAA,SAAAK,GAAA,OAAAA,EAAAC,UAAAC,UACAT,WAAA,SAAAO,GAAA,OAAAA,EAAAP,YACAzD,KAAA,SAAAgE,GAAA,OAAAA,EAAAhE,MACAmE,SAAA,SAAAH,GAAA,OAAAA,EAAAI,QAAAC,cACAjD,UAAA,SAAA4C,GAAA,OAAAA,EAAA5C,WACAkD,MAAA,SAAAN,GAAA,OAAAA,EAAAI,QAAAE,OACA5D,MAAA,SAAAsD,GAAA,OAAAA,EAAAI,QAAA1D,UAEAC,UAXA,WAYA,OAAA9B,KAAAkD,SAAAwC,SAAA1F,KAAAyF,OAAA,MAGAE,QAzDA,WAyDA,IAAAC,EAAA5F,KACAoE,QAAAC,IAAA,YAAArE,KAAAsF,UACAtF,KAAAsF,SAGAO,WAAA,WACAD,EAAA3C,UACA2C,EAAAE,oBAEA,KANAD,WAAA7F,KAAA8F,iBAAA,MASAC,QAAAf,OAAAC,EAAA,KAAAD,IACAA,OAAAE,EAAA,KAAAF,CAAA,QACA,eACA,YACA,kBACA,iBAEAA,OAAAE,EAAA,KAAAF,CAAA,QACA,cAEA1C,QAVA,SAUA0D,GACA,IAAAC,EAAAjG,KAAAsD,OACA,GAAA4C,OAAA1F,IAAAC,KAAAyF,OAAA1F,IAAA2F,IACAC,6BAAA,SAAAC,GACAjC,QAAAC,IAAA,qBAAAgC,GACAA,GACAA,EAAAC,YAAA,qBACAN,OACAO,IAAAN,GACA,SAAAjD,EAAAwD,aAGA,GAAAN,OAAA1F,IAAAC,KAAAyF,OAAA1F,IAAAiG,UACArC,QAAAC,IAAA,yBAAAgC,QACA,oBAAAH,OAAAG,QACA,IACAH,OAAAG,OAAAK,kBAAAxC,KAAAyC,WACAX,OACAO,IAAAN,KAEA,MAAAW,GACA5B,OAAAnB,EAAA,SAAAmB,CAAA,gBAKA9D,YApCA,SAoCA+E,GACA,IAAA7E,EAAA4D,OAAA6B,EAAA,KAAA7B,CAAAiB,GACA,OAAA7E,GAEA0E,iBAxCA,WAwCA,IAAAgB,EAAA9G,KAEA+G,EAAA/G,KACAgH,EAAAD,EAAAE,MAAAC,gBACAC,EAAAC,SAAAC,eAAA,aACAN,EAAA9D,UAAA,EACA+B,OAAA6B,EAAA,KAAA7B,CAAAgC,GAAAM,KAAA,SAAAf,GAGAnC,QAAAC,IAAA,qBAEAR,EAAA,aAAA0D,QACAR,EAAAvG,IAAAC,IACAuE,OAAA6B,EAAA,KAAA7B,CAAAuB,GAAAe,KAAA,SAAAE,GAEA,IADAxE,EACAwE,EADAxE,KAEA8D,EAAAxD,OAAAyD,EAAA7F,YAAA8B,EAAAyE,OAAAxB,KACAkB,EAAAlG,IAAA8F,EAAAzD,SAGA6D,EAAAlG,IAAAsF,EAAAtF,OAIAO,WAhEA,SAgEAwE,EAAAY,IACAZ,IAAAY,EAAAc,OAAAC,MAAAC,QAAA,QACAxD,QAAAC,IAAA,eAAA2B,GACAhG,KAAAiD,UACA4C,WAAA7F,KAAA8F,iBAAA,MAGA9E,WAvEA,WAwEAoD,QAAAC,IAAA,cACArE,KAAAsF,WAAAvB,eAAA8D,UAAA,GACA7H,KAAA8H,QAAAlH,WCrQgSmH,EAAA,0BCQhSC,EAAAhD,OAAAiD,EAAA,KAAAjD,CACA+C,EACAjI,EACAgD,GACA,EACA,KACA,KACA,MAIAoF,EAAA,WAAAF,6CCnBA,IAAAlI,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAF,EAAAS,IAAA,KAAAL,EAAA,UAAmCE,YAAA,WAAqBF,EAAA,OAAYE,YAAA,SAAmBF,EAAA,OAAYE,YAAA,cAAAsH,OAAkCC,QAAA7H,EAAAa,KAAA,gBAAqCE,IAAMuB,MAAA,SAAAd,GAAyBxB,EAAAiB,iBAAmBb,EAAA,OAAYE,YAAA,eAAAsH,OAAmCC,QAAA7H,EAAAwH,MAAA,gBAAsCzG,IAAMuB,MAAA,SAAAd,GAAyBxB,EAAAoI,oBAAoBhI,EAAA,OAAcE,YAAA,UAAoBF,EAAA,OAAYE,YAAA,QAAAsH,OAA4BC,QAAA7H,EAAAqI,MAAA,gBAAsCtH,IAAMuB,MAAA,SAAAd,GAAyBxB,EAAAsI,sBAAoBtI,EAAAyC,MAChmBM,KCYAwF,cACAC,KAAA,WACAvF,KAFA,WAGA,UAEAwF,OACA5H,KAAA6H,QACAlB,MAAAkB,QACAL,MAAAK,QACA5H,KAAA4H,QACAhB,OAAAgB,SAEA9C,QAZA,WAaAvB,QAAAC,IAAA,UAAArE,KAAAY,KAAAZ,KAAAuH,MAAAvH,KAAAoI,MAAApI,KAAAa,KAAAb,KAAAyH,OAAAzH,KAAAe,SAEAgF,SACA/E,WADA,WAOAhB,KAAAa,KACAb,KAAA0I,MAAA,UAEA1I,KAAA8H,QAAAlH,QAGAuH,YAbA,WAcA,GAAAnI,KAAAQ,IAAAC,KAAAT,KAAAQ,IAAA2F,IACAC,6BAAA,SAAAC,GACAA,GACAA,EAAAC,YAAA,mBAGA,GAAAtG,KAAAQ,IAAAC,KAAAT,KAAAQ,IAAAiG,SACA,oBAAAP,OAAAG,OACA,IACAH,OAAAG,OAAAsC,WACA,MAAA/B,GACAgC,MAAA,gBAMAP,YA/BA,WAgCAjE,QAAAC,IAAA,eAEAwE,SAAAnE,KAAA,GAAAoE,OAAAD,SAAAE,OAAA,mBC9DiSC,EAAA,0BCQjShB,EAAAhD,OAAAiD,EAAA,KAAAjD,CACAgE,EACAlJ,EACAgD,GACA,EACA,KACA,WACA,MAIAoF,EAAA,KAAAF,gCCnBAvI,EAAAC,QAAAC,EAAAC,EAAA,sFCAqdqJ,EAAA,wBCArdxJ,EAAAC,QAAAC,EAAAC,EAAA,oDCAAH,EAAAC,QAAAC,EAAAC,EAAA,uECAAH,EAAAC,QAAAC,EAAAC,EAAA","file":"js/4.99fc2dea.js","sourcesContent":["module.exports = __webpack_public_path__ + \"img/default_share.f4b583de.png\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=db92aa60&lang=less&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=style&index=0&id=db92aa60&lang=less&scoped=true\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\" moon-share\",class:{'in-app': _vm.ENV.app}},[(_vm.ENV.app)?_c('div',{staticClass:\" share-app\"},[_vm._m(0),_c('div',{staticClass:\"share-wrapper\"},[_c('moon-header',{attrs:{\"back\":\"\",\"home\":\"\"},on:{\"goBack\":_vm.handleBack}}),_c('div',{staticClass:\"share-wrap\"},[_c('div',{staticClass:\"share-container\"},[(_vm.answerId)?_c('div',{staticClass:\"share-score\"},[_c('div',{staticClass:\"share-user-img\"},[_c('img',{staticClass:\"share-user-avatar\",attrs:{\"src\":_vm.makeFileUrl(_vm.user.avatar),\"crossOrigin\":\"Anonymous\"},on:{\"load\":function($event){_vm.avatarLoad(true, $event)},\"error\":function($event){_vm.avatarLoad(false, $event)}}})]),_c('div',{staticClass:\"share-user-name\"},[_vm._v(_vm._s(_vm.user.fullname))]),_c('div',{staticClass:\"share-desc\"},[_vm._v(\"\\n                在【广寒攻略】中获得\\n                \"),_c('span',{staticClass:\"share-desc-score\"},[_vm._v(\" \"+_vm._s(_vm.score))]),_vm._v(\" 分，\\n                \"),_c('span',{staticClass:\"share-desc-tip\"},[_vm._v(_vm._s(_vm.levelData.tip))]),_vm._v(\"\\n                猜猜你是广寒宫里的谁？\\n              \")]),_c('div',{staticClass:\"share-tag\"},[_c('img',{attrs:{\"src\":_vm.levelData.tagImg}})]),_c('div',{staticClass:\"share-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1),_c('div',{staticClass:\"share-tip\"},[_vm._v(\"长按识别二维码参与游戏，和他Pk吧！\")])]):_c('div',{staticClass:\"share-default\"},[_c('div',{staticClass:\"share-default-hd\"}),_c('div',{staticClass:\"share-qrcode share-default-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1),_c('div',{staticClass:\"share-tip share-default-tip\"},[_vm._v(\"长按识别二维码答题\")]),_c('div',{staticClass:\"share-logo share-default-logo\"})])]),_c('div',{staticClass:\"share-items box box-lr box-center-center\"},[_c('div',{staticClass:\"item item1 box box-tb box-center-center\",on:{\"click\":function($event){_vm.toShare('inviteNewGuyActionWeChat', _vm.shareData)}}},[_c('span',{staticClass:\"weixin\"}),_c('span',[_vm._v(\"好友\")])]),_c('div',{staticClass:\"item item2 box box-tb box-center-center\",on:{\"click\":function($event){_vm.toShare('inviteNewGuyActionWxTimeLine', _vm.shareData)}}},[_c('span',{staticClass:\"pyq\"}),_c('span',[_vm._v(\"朋友圈\")])]),_c('div',{staticClass:\"item item3 box box-tb box-center-center\",on:{\"click\":function($event){_vm.toShare('inviteNewGuyActionSavePicture', _vm.shareData)}}},[_c('span',{staticClass:\"download\"}),_c('span',[_vm._v(\"保存至相册\")])])])])],1)]):_vm._e(),_c('div',{ref:\"canvasContainer\",staticClass:\"share-wx\",class:{'share-wx-app': _vm.ENV.app}},[_vm._m(1),_c('div',{staticClass:\"share-wrapper\"},[_c('div',{staticClass:\"share-container\"},[(_vm.answerId)?_c('div',{staticClass:\"share-wx-score\"},[_c('div',{staticClass:\"share-user-img\"},[_c('img',{staticClass:\"share-user-avatar\",attrs:{\"src\":_vm.makeFileUrl(_vm.user.avatar),\"crossOrigin\":\"Anonymous\"},on:{\"load\":function($event){_vm.avatarLoad(true, $event)},\"error\":function($event){_vm.avatarLoad(false, $event)}}})]),_c('div',{staticClass:\"share-user-name\"},[_vm._v(_vm._s(_vm.user.fullname))]),_c('div',{staticClass:\"share-desc\"},[_vm._v(\"\\n              在【广寒攻略】中获得\\n              \"),_c('span',{staticClass:\"share-desc-score\"},[_vm._v(\" \"+_vm._s(_vm.score))]),_vm._v(\" 分，\\n              \"),_c('span',{staticClass:\"share-desc-tip\"},[_vm._v(_vm._s(_vm.levelData.tip))]),_vm._v(\"\\n              猜猜你是广寒宫里的谁？\\n            \")]),_c('div',{staticClass:\"share-tag\"},[_c('img',{attrs:{\"src\":_vm.levelData.tagImg}})]),_c('div',{staticClass:\"share-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1),_c('div',{staticClass:\"share-tip\"},[_vm._v(\"长按识别二维码参与游戏，和他Pk吧！\")])]):_c('div',{staticClass:\"share-wx-wrap\"},[_c('img',{staticClass:\"share-wx-hd\",attrs:{\"src\":_vm.headImg}}),_c('div',{staticClass:\"share-qrcode share-wx-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1),_c('div',{staticClass:\"share-tip share-wx-tip\"},[_vm._v(\"长按识别二维码答题\")]),_c('div',{staticClass:\"share-logo share-wx-logo\"})])])])]),_c('img',{staticClass:\"share-img\",class:{'share-img-app': _vm.ENV.app},attrs:{\"src\":\"\",\"id\":\"share-img\"}})])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yun-wrapper min\"},[_c('div',{staticClass:\"yun\"}),_c('div',{staticClass:\"yun1\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yun-wrapper min\"},[_c('div',{staticClass:\"yun\"}),_c('div',{staticClass:\"yun1\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\" moon-share\" :class=\"{'in-app': ENV.app}\">\n\n      <div v-if=\"ENV.app\" class=\" share-app\">\n        <div class=\"yun-wrapper min\">\n          <div class=\"yun\"></div>\n          <div class=\"yun1\"></div>\n        </div>\n        <div class=\"share-wrapper\">\n          <moon-header back home @goBack=\"handleBack\"></moon-header>\n          <div class=\"share-wrap\">\n            <div class=\"share-container\">\n              <div v-if=\"answerId\" class=\"share-score\">\n                <div class=\"share-user-img\">\n                  <img :src=\"makeFileUrl(user.avatar)\" @load=\"avatarLoad(true, $event)\" @error=\"avatarLoad(false, $event)\" class=\"share-user-avatar\" crossOrigin=\"Anonymous\">\n                </div>\n                <div class=\"share-user-name\">{{user.fullname}}</div>\n                <div class=\"share-desc\">\n                  在【广寒攻略】中获得\n                  <span class=\"share-desc-score\"> {{score}}</span> 分，\n                  <span class=\"share-desc-tip\">{{levelData.tip}}</span>\n                  猜猜你是广寒宫里的谁？\n                </div>\n                <div class=\"share-tag\">\n                  <img :src=\"levelData.tagImg\">\n                </div>\n                <div class=\"share-qrcode\">\n                  <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n                </div>\n                <div class=\"share-tip\">长按识别二维码参与游戏，和他Pk吧！</div>\n              </div>\n              <div v-else class=\"share-default\">\n                <div class=\"share-default-hd\"></div>\n                <div class=\"share-qrcode share-default-qrcode\">\n                  <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n                </div>\n                <div class=\"share-tip share-default-tip\">长按识别二维码答题</div>\n                <div class=\"share-logo share-default-logo\"></div>\n              </div>\n            </div>\n            <div class=\"share-items box box-lr box-center-center\">\n              <div class=\"item item1 box box-tb box-center-center\" @click=\"toShare('inviteNewGuyActionWeChat', shareData)\">\n                <span class=\"weixin\"></span>\n                <span>好友</span>\n              </div>\n              <div class=\"item item2 box box-tb box-center-center\" @click=\"toShare('inviteNewGuyActionWxTimeLine', shareData)\">\n                <span class=\"pyq\"></span>\n                <span>朋友圈</span>\n              </div>\n              <div class=\"item item3 box box-tb box-center-center\" @click=\"toShare('inviteNewGuyActionSavePicture', shareData)\">\n                <span class=\"download\"></span>\n                <span>保存至相册</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div ref=\"canvasContainer\" class=\"share-wx\" :class=\"{'share-wx-app': ENV.app}\">\n        <div class=\"yun-wrapper min\">\n          <div class=\"yun\"></div>\n          <div class=\"yun1\"></div>\n        </div>\n        <div class=\"share-wrapper\">\n          <div class=\"share-container\">\n            <div v-if=\"answerId\" class=\"share-wx-score\">\n              <div class=\"share-user-img\">\n                <img :src=\"makeFileUrl(user.avatar)\" @load=\"avatarLoad(true, $event)\" @error=\"avatarLoad(false, $event)\" class=\"share-user-avatar\" crossOrigin=\"Anonymous\">\n              </div>\n              <div class=\"share-user-name\">{{user.fullname}}</div>\n              <div class=\"share-desc\">\n                在【广寒攻略】中获得\n                <span class=\"share-desc-score\"> {{score}}</span> 分，\n                <span class=\"share-desc-tip\">{{levelData.tip}}</span>\n                猜猜你是广寒宫里的谁？\n              </div>\n              <div class=\"share-tag\">\n                <img :src=\"levelData.tagImg\">\n              </div>\n              <div class=\"share-qrcode\">\n                <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n              </div>\n              <div class=\"share-tip\">长按识别二维码参与游戏，和他Pk吧！</div>\n            </div>\n            <div v-else class=\"share-wx-wrap\">\n              <img :src=\"headImg\" class=\"share-wx-hd\">\n              <div class=\"share-qrcode share-wx-qrcode\">\n                <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n              </div>\n              <div class=\"share-tip share-wx-tip\">长按识别二维码答题</div>\n              <div class=\"share-logo share-wx-logo\"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <img src=\"\" id=\"share-img\" class=\"share-img\" :class=\"{'share-img-app': ENV.app}\">\n  </div>\n</template>\n\n<script>\n  import {\n    Toast,\n    Indicator\n  } from 'mint-ui';\n  import {\n    mapState,\n    mapActions,\n    mapMutations\n  } from \"vuex\";\n  import moonHeader from '../components/header';\n  import {\n    makeFileUrl,\n    addParamsForUrl,\n    html2Image,\n    tjUploadFile\n  } from '../../../utils/utils'\n  import baseUrl from '../../../config/index'\n  import QrcodeVue from 'qrcode.vue';\n  import defaultImg from '../assets/images/default_share.png';\n  export default {\n    data() {\n      return {\n        isDrawed: false,\n        qrcode: {\n          val: 'https://a.tiejin.cn/moon',\n          size: 80\n        },\n        showData: [{\n          tip: '赢得5元红包！',\n          tagImg: require('../assets/images/local1.png')\n        }, {\n          tip: '喜提盒饭价值2元。',\n          tagImg: require('../assets/images/local2.png')\n        }, {\n          tip: '和5元红包失之交臂。',\n          tagImg: require('../assets/images/local3.png')\n        }],\n        defaultImg: defaultImg,\n        imgUrl: '',\n        headImg: require('../assets/images/index_hd.png')\n      }\n    },\n    components: {\n      moonHeader,\n      QrcodeVue\n    },\n    created() {\n      Indicator.open();\n      // this.userShare()\n      if (sessionStorage.resultCache && sessionStorage.resultCache != '{}') {\n        let CACHE = JSON.parse(sessionStorage.resultCache);\n        console.log('window.CACHE', CACHE)\n        // sessionStorage.resultCache = '{}';\n        this.setCache(CACHE)\n      }\n      if (this.ENV.wx) {\n        console.log('share wxshare--')\n        this.initWxConfig()\n      }\n      this.qrcode.val = baseUrl.href[this.ENV.env] + '/moon?activityId=' + this.activityId + '&inviter=' + this.objectID + '&salt=' + this.salt\n    },\n    computed: {\n      ...mapState('moon', {\n        objectID: state => state.user.objectID || '',\n        salt: state => state.statistic.signSalt,\n        activityId: state => state.activityId,\n        user: state => state.user,\n        answerId: state => state.endData.userAnswerId,\n        shareData: state => state.shareData,\n        level: state => state.endData.level,\n        score: state => state.endData.score\n      }),\n      levelData() {\n        return this.showData[parseInt(this.level) - 1]\n      }\n    },\n    mounted() {\n      console.log('answerId:', this.answerId)\n      if (!this.answerId) {\n        setTimeout(this.drawHtmlToCanvas, 100)\n      } else {\n        setTimeout(() => {\n          if (!this.isDrawed) {\n            this.drawHtmlToCanvas()\n          }\n        }, 10000)\n      }\n    },\n    methods: {\n      ...mapActions(\"moon\", [\n        \"wechatConfig\",\n        \"userShare\",\n        \"checkLoginInApp\",\n        \"initWxConfig\"\n      ]),\n      ...mapMutations('moon', [\n        \"setCache\"\n      ]),\n      toShare(type) {\n        let url = this.imgUrl;\n        if (window.ENV.app && window.ENV.ios) {\n          setupWebViewJavascriptBridge(function(bridge) {\n            console.log(\"toShare ios bridge\", bridge)\n            if (bridge) {\n              bridge.callHandler(\"inviteNewerAction\", {\n                \"type\": type,\n                \"img\": url\n              }, function(data, responseCallback) {})\n            }\n          })\n        } else if (window.ENV.app && window.ENV.android) {\n          console.log(\"toShare android bridge\", bridge)\n          if (typeof window.bridge != \"undefined\") {\n            try {\n              window.bridge.inviteNewerAction(JSON.stringify({\n                \"type\": type,\n                \"img\": url\n              }));\n            } catch (e) {\n              Toast(\"请升级最新版本客户端\")\n            }\n          }\n        }\n      },\n      makeFileUrl(url) {\n        let avatar = makeFileUrl(url)\n        return avatar\n      },\n      drawHtmlToCanvas() {\n        // return;\n        let self = this;\n        let container = self.$refs.canvasContainer;\n        let shareImg = document.getElementById(\"share-img\");\n        self.isDrawed = true;\n        html2Image(container).then(img => {\n          // img.setAttribute('class', 'qr-img');\n          // img.setAttribute(\"crossOrigin\", 'Anonymous')\n          console.log('html2Image-finish')\n          // container.appendChild(img);\n          Indicator.close();\n          if (self.ENV.app) {\n            tjUploadFile(img).then(({\n              data\n            }) => {\n              this.imgUrl = self.makeFileUrl(data.result.url);\n              shareImg.src = self.imgUrl;\n            })\n          } else {\n            shareImg.src=img.src;\n          }\n        })\n      },\n      avatarLoad(type, e) {\n        !type && (e.target.style.display='none')\n        console.log('avatar.load:', type);\n        if (!this.isDrawed) {\n          setTimeout(this.drawHtmlToCanvas, 100)\n        }\n      },\n      handleBack() {\n        console.log('share.back');\n        this.answerId && (sessionStorage.goResult = true);\n        this.$router.back();\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\">\n  @import '../assets/style/main.less';\n  @import '../assets/style/share.less';\n</style>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=38844a5c\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&lang=less\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.ENV.v123)?_c('header',{staticClass:\"header\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"common back\",style:({display: _vm.back ? 'block' : 'none'}),on:{\"click\":function($event){_vm.handleBack()}}}),_c('div',{staticClass:\"common close\",style:({display: _vm.close ? 'block' : 'none'}),on:{\"click\":function($event){_vm.handleClose()}}})]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"share\",style:({display: _vm.share ? 'block' : 'none'}),on:{\"click\":function($event){_vm.handleShare()}}})])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <header v-if=\"ENV.v123\" class=\"header\">\n    <div class=\"left\">\n      <div class=\"common back\" :style=\"{display: back ? 'block' : 'none'}\" @click=\"handleBack()\"></div>\n      <div class=\"common close\" :style=\"{display: close ? 'block' : 'none'}\" @click=\"handleClose()\"></div>\n    </div>\n    <div class=\"right\">\n      <div class=\"share\" :style=\"{display: share ? 'block' : 'none'}\" @click=\"handleShare()\"></div>\n    </div>\n  </header>\n</template>\n<script>\n  import {mapState} from 'vuex';\n  export default {\n    name: 'tjHeader',\n    data() {\n      return {}\n    },\n    props: {\n      back: Boolean,\n      close: Boolean,\n      share: Boolean,\n      home: Boolean,\n      result: Boolean\n    },\n    mounted() {\n      console.log('header:', this.back, this.close, this.share, this.home, this.result, this.goBack)\n    },\n    methods: {\n      handleBack() {\n        // if (this.home) {\n\n        // }\n        // this.result && (sessionStorage.goResult = true);\n        // this.$router.back();\n        if (this.home) {\n          this.$emit('goBack')\n        } else {\n          this.$router.back();\n        }\n      },\n      handleClose() {\n        if (this.ENV.app && this.ENV.ios) {\n          setupWebViewJavascriptBridge(function(bridge) {\n            if (bridge) {\n              bridge.callHandler(\"exitPage\")\n            }\n          })\n        } else if (this.ENV.app && this.ENV.android) {\n          if (typeof window.bridge != \"undefined\") {\n            try {\n              window.bridge.exitPage();\n            } catch (e) {\n              Toast(\"请升级最新版本客户端\")\n            }\n          }\n        }\n      },\n      // 点击分享跳转到分享页\n      handleShare() {\n        console.log('handleShare');\n        // this.$router.push({name:\"moonShare\"})\n        location.href = `${location.origin}/moon/share`\n      }\n    }\n  }\n</script>\n<style lang=\"less\" scoped>\n.header {\n  position: relative;\n  height: 76pr;\n  margin-bottom: 20pr;\n  z-index: 999;\n  // border: 1px solid red;\n  .left, .right {\n    position: absolute;\n    top: 0;\n    height: 100%;\n  }\n  .left {\n    left: 20pr;\n  }\n  .right {\n    right: 20pr;\n  }\n  .common {\n    width: 50pr;\n    height: 50pr;\n  }\n  .back {\n    float: left;\n    margin-right: 20pr;\n    background: url(../assets/images/back.png) center no-repeat;\n    background-size: contain;\n  }\n  .close {\n    float: left;\n    background: url(../assets/images/close.png) center no-repeat;\n    background-size: contain;\n  }\n  .share {\n    width: 54pr;\n    height: 50pr;\n    float: right;\n    background: url(../assets/images/index_share.png) center no-repeat;\n    background-size: contain;\n  }\n}\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./header.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./header.vue?vue&type=template&id=db92aa60&scoped=true\"\nimport script from \"./header.vue?vue&type=script&lang=js\"\nexport * from \"./header.vue?vue&type=script&lang=js\"\nimport style0 from \"./header.vue?vue&type=style&index=0&id=db92aa60&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"db92aa60\",\n  null\n  \n)\n\nexport default component.exports","module.exports = __webpack_public_path__ + \"img/local2.3362be3c.png\";","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&lang=less\"","module.exports = __webpack_public_path__ + \"img/index_hd.7570c1e5.png\";","module.exports = __webpack_public_path__ + \"img/local3.5470784a.png\";","module.exports = __webpack_public_path__ + \"img/local1.decb6e20.png\";"],"sourceRoot":""}