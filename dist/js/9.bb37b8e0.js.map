{"version":3,"sources":["webpack:///./src/pages/local/index/index.vue?0af9","webpack:///src/pages/local/index/index.vue","webpack:///./src/pages/local/index/index.vue?d49c","webpack:///./src/pages/local/index/index.vue","webpack:///./src/pages/local/index/index.vue?c7b9","webpack:///./src/pages/local/assets/images/default_share.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","in-app","IS_APP","attrs","close","share","_e","on","click","$event","showRankingList","_v","showRule","active","mounted","style","width","currentWidth","statistic","totalAwardAmt","showAmount","_s","currentTotalAmount","handleWithDraw","domProps","innerHTML","currentDesc","handleStart","chance","ref","src","defaultImg","alt","value","qrcode","val","size","show","dialog","content","closeDialog","makeFileUrl","user","avatar","crossOrigin","levelData","logoImg","fullname","score","tip","_m","tagImg","id","staticRenderFns","indexvue_type_script_lang_js","_name$data$components","name","data","default_share_default","a","components","QrcodeVue","qrcode_vue_esm","localDialog","localHeader","header","computed","userShare","Object","defineProperty","objectSpread","vuex_esm","currentQuesitionNum","state","questions","remainTimesToMax","Math","ceil","utils","maxAwardAmt","toFixed","concat","_this","self","console","log","isLogin","Cookies","set","aid","expires","checkParams","$route","query","initAnimation","checkLoginInApp","IS_WX","getUserInfoAndLoginWithWx","then","sign","initWxConfig","rate","count","arguments","length","undefined","parseInt","pow","checkOtherEnv","$router","push","params","from","window","pageTo","needLogin","setCurrentWidth","_this2","getStatistic","ua","$store","UA","indexOf","setupWebViewJavascriptBridge","bridge","callHandler","responseCallback","inviteNewGuyAction","e","Toast","url","drawHtmlToCanvas","_this3","container","$refs","canvasContainer","img","_ref","imgUrl","result","_this4","setTimeout","updateCurrentQuestionNum","local_indexvue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_2_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_2_3_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_985742cc_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","module","exports","__webpack_require__","p"],"mappings":"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","file":"js/9.bb37b8e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main local-index\",class:{'in-app': _vm.IS_APP}},[(_vm.IS_APP)?_c('local-header',{attrs:{\"close\":\"\",\"share\":\"\"}}):_vm._e(),_c('section',{staticClass:\"tab\"},[_c('div',{staticClass:\"tab-default tab-left\",on:{\"click\":function($event){_vm.showRankingList()}}},[_vm._v(\"好友排行榜\")]),_c('div',{staticClass:\"tab-default tab-right\",on:{\"click\":function($event){_vm.showRule()}}},[_vm._v(\"活动规则\")])]),_c('section',{staticClass:\"hd animated bounceInDown fast\"},[_c('div',{staticClass:\"hd-default hd-1\",class:{active: _vm.mounted}}),_c('div',{staticClass:\"hd-default hd-2\",class:{active: _vm.mounted}}),_c('div',{staticClass:\"hd-default hd-3\",class:{active: _vm.mounted}}),_c('div',{staticClass:\"hd-default hd-4\",class:{active: _vm.mounted}}),_c('div',{staticClass:\"hd-img\"})]),_c('section',{staticClass:\"bd\",class:{active: _vm.mounted}},[_c('div',{staticClass:\"bd-progress\"},[_c('div',{staticClass:\"bd-complete\",style:({width: _vm.currentWidth})})]),_c('div',{staticClass:\"bd-scale\"},[_c('div',{staticClass:\"bd-scale-default bd-scale-0\",class:{active: _vm.statistic.totalAwardAmt > _vm.showAmount(0)}},[_c('span',{staticClass:\"bd-arrow bd-arrow-left\"}),_c('span',{staticClass:\"bd-scale-amount\"},[_vm._v(_vm._s(_vm.showAmount(0, 2)))])]),_c('div',{staticClass:\"bd-scale-default bd-scale-50\",class:{active: _vm.statistic.totalAwardAmt >= _vm.showAmount(.5)}},[_c('span',{staticClass:\"bd-arrow bd-arrow-center\"}),_c('span',{staticClass:\"bd-scale-amount\"},[_vm._v(_vm._s(_vm.showAmount(.5, 2)))])]),_c('div',{staticClass:\"bd-scale-default bd-scale-100\",class:{active: _vm.statistic.totalAwardAmt >= _vm.showAmount(1)}},[_c('span',{staticClass:\"bd-arrow bd-arrow-right\"}),_c('span',{staticClass:\"bd-scale-amount\"},[_vm._v(_vm._s(_vm.showAmount(1, 2)))])])]),_c('div',{staticClass:\"bd-total\"},[_vm._v(\"\\n      累计获得：\\n      \"),_c('span',{staticClass:\"bd-count\"},[_vm._v(_vm._s(_vm.currentTotalAmount))]),_vm._v(\" 元\\n      \"),_c('span',{staticClass:\"bd-tixian\",on:{\"click\":function($event){_vm.handleWithDraw()}}},[_vm._v(\"去提现\")])]),_c('div',{staticClass:\"bd-desc\",domProps:{\"innerHTML\":_vm._s(_vm.currentDesc)}}),_c('div',{staticClass:\"bd-btn animated pulse infinite delay-2\",on:{\"click\":function($event){_vm.handleStart()}}}),_c('div',{staticClass:\"bd-remain\"},[_vm._v(\"您还有\"+_vm._s(_vm.statistic.chance)+\"次答题机会\")])]),_c('section',{staticClass:\"ft\"}),_c('div',{ref:\"canvasContainer\",staticClass:\"share-default\"},[_c('img',{staticClass:\"share-default-bg\",attrs:{\"src\":_vm.defaultImg,\"alt\":\"\"}}),_c('div',{staticClass:\"share-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1)]),_c('local-dialog',{attrs:{\"show\":_vm.dialog.show,\"share\":_vm.dialog.share,\"content\":_vm.dialog.content},on:{\"close\":_vm.closeDialog}}),_c('div',{staticClass:\"share-container\"},[_c('div',{ref:\"canvasContainer\",staticClass:\"share-box\"},[(_vm.answerId)?_c('div',{staticClass:\"share-score\"},[_c('div',{staticClass:\"share-user-img\"},[_c('img',{staticClass:\"share-user-avatar\",attrs:{\"src\":_vm.makeFileUrl(_vm.user.avatar),\"crossOrigin\":\"Anonymous\"}}),_c('div',{staticClass:\"share-user-filter\"},[_c('img',{attrs:{\"src\":_vm.levelData.logoImg,\"alt\":\"\"}})])]),_c('div',{staticClass:\"share-user-name\"},[_vm._v(_vm._s(_vm.user.fullname))]),_c('div',{staticClass:\"share-desc\"},[_vm._v(\"\\n          在【谁是成都最土著】中获得\\n          \"),_c('span',{staticClass:\"share-desc-score\"},[_vm._v(\" \"+_vm._s(_vm.score))]),_vm._v(\" 分，\\n          \"),_c('br'),_c('span',{staticClass:\"share-desc-tip\"},[_vm._v(_vm._s(_vm.levelData.tip))])]),_vm._m(0),_c('div',{staticClass:\"share-tag\"},[_c('img',{attrs:{\"src\":_vm.levelData.tagImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"share-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1),_c('div',{staticClass:\"share-tip\"},[_vm._v(\"长按识别二维码参与游戏，和他Pk吧\")])]):_c('div',{staticClass:\"share-default\"},[_c('img',{staticClass:\"share-default-bg\",attrs:{\"src\":_vm.defaultImg,\"alt\":\"\"}}),_c('div',{staticClass:\"share-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1)]),_c('img',{staticClass:\"share-img\",attrs:{\"id\":\"share-img\",\"src\":\"\"}})])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share-title box box-lr box-center-center\"},[_c('div',{staticClass:\"line left\"}),_c('div',{staticClass:\"name\"},[_vm._v(\"获得称号\")]),_c('div',{staticClass:\"line right\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main local-index\" :class=\"{'in-app': IS_APP}\">\n    <local-header v-if=\"IS_APP\" close share></local-header>\n    <section class=\"tab\">\n      <div class=\"tab-default tab-left\" @click=\"showRankingList()\">好友排行榜</div>\n      <div class=\"tab-default tab-right\" @click=\"showRule()\">活动规则</div>\n    </section>\n    <section class=\"hd animated bounceInDown fast\">\n      <div class=\"hd-default hd-1\" :class=\"{active: mounted}\"></div>\n      <div class=\"hd-default hd-2\" :class=\"{active: mounted}\"></div>\n      <div class=\"hd-default hd-3\" :class=\"{active: mounted}\"></div>\n      <div class=\"hd-default hd-4\" :class=\"{active: mounted}\"></div>\n      <div class=\"hd-img\"></div>\n    </section>\n    <section class=\"bd\" :class=\"{active: mounted}\">\n      <div class=\"bd-progress\">\n        <div class=\"bd-complete\" :style=\"{width: currentWidth}\"></div>\n      </div>\n      <div class=\"bd-scale\">\n        <div class=\"bd-scale-default bd-scale-0\" :class=\"{active: statistic.totalAwardAmt > showAmount(0)}\">\n          <span class=\"bd-arrow bd-arrow-left\"></span>\n          <span class=\"bd-scale-amount\">{{showAmount(0, 2)}}</span>\n        </div>\n        <div class=\"bd-scale-default bd-scale-50\" :class=\"{active: statistic.totalAwardAmt >= showAmount(.5)}\">\n          <span class=\"bd-arrow bd-arrow-center\"></span>\n          <span class=\"bd-scale-amount\">{{showAmount(.5, 2)}}</span>\n        </div>\n        <div class=\"bd-scale-default bd-scale-100\" :class=\"{active: statistic.totalAwardAmt >= showAmount(1)}\">\n          <span class=\"bd-arrow bd-arrow-right\"></span>\n          <span class=\"bd-scale-amount\">{{showAmount(1, 2)}}</span>\n        </div>\n      </div>\n      <div class=\"bd-total\">\n        累计获得：\n        <span class=\"bd-count\">{{currentTotalAmount}}</span> 元\n        <span class=\"bd-tixian\" @click=\"handleWithDraw()\">去提现</span>\n      </div>\n      <div class=\"bd-desc\" v-html=\"currentDesc\"></div>\n      <div class=\"bd-btn animated pulse infinite delay-2\" @click=\"handleStart()\"></div>\n      <div class=\"bd-remain\">您还有{{statistic.chance}}次答题机会</div>\n    </section>\n    <section class=\"ft\"></section>\n    <div class=\"share-default\" ref=\"canvasContainer\">\n      <img :src=\"defaultImg\" alt=\"\" class=\"share-default-bg\">\n      <div class=\"share-qrcode\">\n        <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n      </div>\n    </div>\n    <local-dialog :show=\"dialog.show\" :share=\"dialog.share\" :content=\"dialog.content\" @close=\"closeDialog\"></local-dialog>\n    <div class=\"share-container\">\n      <div ref=\"canvasContainer\" class=\"share-box\">\n        <div v-if=\"answerId\" class=\"share-score\">\n          <div class=\"share-user-img\">\n            <img :src=\"makeFileUrl(user.avatar)\" class=\"share-user-avatar\" crossOrigin=\"Anonymous\">\n            <div class=\"share-user-filter\">\n              <img :src=\"levelData.logoImg\" alt=\"\">\n            </div>\n          </div>\n          <div class=\"share-user-name\">{{user.fullname}}</div>\n          <div class=\"share-desc\">\n            在【谁是成都最土著】中获得\n            <span class=\"share-desc-score\"> {{score}}</span> 分，\n            <br/>\n            <span class=\"share-desc-tip\">{{levelData.tip}}</span>\n          </div>\n          <div class=\"share-title box box-lr box-center-center\">\n            <div class=\"line left\"></div>\n            <div class=\"name\">获得称号</div>\n            <div class=\"line right\"></div>\n          </div>\n          <div class=\"share-tag\">\n            <img :src=\"levelData.tagImg\" alt=\"\">\n          </div>\n          <div class=\"share-qrcode\">\n            <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n          </div>\n          <div class=\"share-tip\">长按识别二维码参与游戏，和他Pk吧</div>\n        </div>\n        <div v-else class=\"share-default\">\n          <img :src=\"defaultImg\" alt=\"\" class=\"share-default-bg\">\n          <div class=\"share-qrcode\">\n            <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n          </div>\n        </div>\n        <img class=\"share-img\" id=\"share-img\" src=\"\">\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import Vue from 'vue';\n  import QrcodeVue from 'qrcode.vue';\n  import localDialog from '../components/dialog';\n  import localHeader from '../components/header';\n  import defaultImg from '../assets/images/default_share.png';\n  \n  import {\n    mapState,\n    mapActions,\n    mapMutations\n  } from 'vuex';\n  import {\n    makeFileUrl,\n    html2Image,\n    tjUploadFile,\n    transAmount,\n    parseQuery,\n    downloadApp\n  } from '../../../utils/utils'\n  \n  export default {\n    name: 'localIndex',\n    data() {\n      return {\n        currentWidth: 0,\n        // mounted\n        mounted: false,\n        // 弹窗\n        dialog: {\n          // 是否显示弹窗\n          show: false,\n          // 是否为分享弹窗\n          share: false,\n          // 弹窗文字内容\n          content: '呃~没有答题机会了，<br/>快去分享给好友获取答题机会吧！'\n        },\n        qrcode: {\n          val: 'https://a.tiejin.cn/local',\n          size: 80\n        },\n        defaultImg: defaultImg\n  \n      }\n    },\n    components: {\n      QrcodeVue,\n      localDialog,\n      localHeader\n    },\n    computed() {\n      this.userShare()\n    },\n    computed: {\n      ...mapState('local', ['aid', 'isLogin', 'statistic']),\n      ...mapState(['IS_APP', 'IS_WX']),\n      ...mapState('local', {\n        currentQuesitionNum: state => state.questions.currentQuesitionNum,\n      }),\n      remainTimesToMax() {\n        return Math.ceil(transAmount(this.statistic.maxAwardAmt - this.statistic.totalAwardAmt) / 5)\n      },\n      currentTotalAmount() {\n        return (this.statistic.totalAwardAmt / 100).toFixed(0);\n      },\n      currentDesc() {\n        if (this.remainTimesToMax == 0) {\n          return `恭喜，您已获得全部${transAmount(this.statistic.maxAwardAmt)}元的现金奖励~`\n        }\n        return `您再获得<span style=\"color: #f20707;\">${this.remainTimesToMax}次</span>王者称号就可以拿到总计${transAmount(this.statistic.maxAwardAmt)}元的现金奖励了！`\n      }\n    },\n    created() {\n      const self = this;\n      console.log('isLogin:', self.isLogin)\n      // 种cookie\n      Cookies.set('aid', self.aid, {\n        expires: 7\n      });\n      self.checkParams(self.$route.query);\n      if (self.isLogin) {\n        self.initAnimation();\n        return;\n      }\n      if (self.IS_APP) {\n        // 端内\n        self.checkLoginInApp(self.initAnimation);\n      } else if (self.IS_WX) {\n        // 微信端\n        // let user = Cookies.get(\"user\");\n        // if (typeof(Cookies.get(\"token\")) != \"undefined\" && typeof(user) != \"undefined\") {\n        //   self.SET_USER(JSON.parse(user))\n        // } else {\n        self.getUserInfoAndLoginWithWx(self.$route.query).then(sign => {\n          if (sign) {\n            self.initAnimation();\n            self.initWxConfig();\n          } else {\n            this.dialog.share = false;\n            this.dialog.content = '亲，请先登录再参与答题吧~';\n            this.dialog.show = true;\n          }\n        })\n        // }\n      }\n  \n    },\n  \n    methods: {\n      ...mapActions('local', [\n        'checkParams',\n        'checkLoginInApp',\n        'getUserInfoAndLoginWithWx',\n        'getStatistic',\n        'initWxConfig',\n        'updateCurrentQuestionNum',\n        'userShare'\n      ]),\n      ...mapMutations('local', [\n        'SET_USER',\n        'updateCurrentQuestionNum'\n      ]),\n      // 展示金额，rate为百分比率，count为除以10的指数\n      showAmount(rate, count = 0) {\n        return parseInt(this.statistic.maxAwardAmt * rate / (10 ** count))\n      },\n      // 转到排行榜\n      showRankingList() {\n        if (!this.isLogin) {\n          this.checkLoginInApp(this.initAnimation);\n        } else if (this.checkOtherEnv()) {\n          this.$router.push({\n            name: 'localRank'\n          })\n        }\n      },\n      // 转到规则\n      showRule() {\n        this.$router.push({\n          name: 'localRule',\n          params: {\n            from: 'localIndex'\n          }\n        })\n      },\n      // 开始答题\n      handleStart() {\n        // this.dialog.share = true;\n        //   this.dialog.content = '亲，没有答题积会了，<br/>快去分享给好友获取答题机会吧！';\n        //   this.dialog.show = true;\n        //   return false;\n        if (!this.IS_APP && !this.IS_WX) {\n          this.dialog = {\n            share: false,\n            content: '亲，请去微信环境下答题吧',\n            show: true\n          }\n        } else if (!this.isLogin) {\n          this.checkLoginInApp(this.initAnimation);\n        } else if (this.checkOtherEnv(true)) {\n          window.pageTo = 'answer'\n          this.$router.push({\n            name: 'localAnswer',\n            params: {\n              from: 'fromIndex'\n            }\n          })\n        }\n      },\n      closeDialog() {\n        this.dialog.show = false;\n      },\n      // 其他环境下弹窗提示去微信答题\n      checkOtherEnv(needLogin) {\n        console.log(this.statistic.chance)\n        if (!this.IS_APP && !this.IS_WX) {\n          this.dialog = {\n            share: false,\n            content: '亲，请去微信环境下答题吧',\n            show: true\n          }\n          return false;\n        } else if (this.statistic.chance <= 0 && needLogin) {\n          this.dialog = {\n            share: true,\n            content: '亲，没有答题机会了~<br/>快去分享给好友获取答题机会吧！',\n            show: true\n          }\n          return false;\n        } else if (this.remainTimesToMax <= 0 && needLogin) {\n          this.dialog = {\n            share: false,\n            content: '亲，您已经获得全部奖励~<br/>',\n            show: true\n          }\n          return false;\n        } else {\n          return true;\n        }\n      },\n      setCurrentWidth() {\n        return this.currentWidth = this.statistic.totalAwardAmt * 100 / this.statistic.maxAwardAmt + '%'\n      },\n      initAnimation() {\n        this.getStatistic().then(() => {\n          this.setCurrentWidth();\n        })\n      },\n      handleWithDraw() {\n        if (this.IS_APP) {\n          if (!this.isLogin) {\n            this.checkLoginInApp(this.initAnimation);\n          } else {\n            let ua = this.$store.state.UA;\n            if (ua.indexOf(\"closer-ios\") > -1) {\n              setupWebViewJavascriptBridge(function(bridge) {\n                if (bridge) {\n                  //ios获取用户token 判断登录\n                  bridge.callHandler(\"inviteNewGuyAction\", 'inviteNewGuyActionWithdraw', function(data, responseCallback) {})\n                }\n              })\n            } else if (ua.indexOf(\"closer-android\") > -1) {\n              if (typeof window.bridge != \"undefined\") {\n                try {\n                  window.bridge.inviteNewGuyAction('inviteNewGuyActionWithdraw');\n                } catch (e) {\n                  Toast(\"请升级最新版本客户端\")\n                }\n              }\n            }\n          }\n        } else {\n          // DOWNLOAD\n          downloadApp();\n        }\n      },\n      makeFileUrl(url) {\n        let avatar = makeFileUrl(url)\n        return avatar\n      },\n      drawHtmlToCanvas() {\n        let container = this.$refs.canvasContainer;\n        html2Image(container).then(img => {\n          tjUploadFile(img).then(({\n            data\n          }) => {\n            this.imgUrl = this.makeFileUrl(data.result.url);\n            console.log(this.imgUrl)\n          })\n        })\n      }\n    },\n    mounted() {\n      setTimeout(() => {\n        this.drawHtmlToCanvas()\n      }, 800);\n      setTimeout(() => {\n        this.mounted = true;\n      }, 800);\n      this.updateCurrentQuestionNum()\n      console.log('index', this.currentQuesitionNum)\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../assets/style/animation.less';\n  @import '../assets/style/main.less';\n  @import '../assets/style/index.less';\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=985742cc&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=985742cc&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"985742cc\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=985742cc&lang=less&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=985742cc&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/default_share.f4b583de.png\";"],"sourceRoot":""}