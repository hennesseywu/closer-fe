{"version":3,"sources":["webpack:///./src/pages/local/result/index.vue?a167","webpack:///src/pages/local/result/index.vue","webpack:///./src/pages/local/result/index.vue?dfc6","webpack:///./src/pages/local/result/index.vue","webpack:///./src/pages/local/result/index.vue?59e0","webpack:///./src/pages/local/assets/images/default_share.png"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","in-app","IS_APP","attrs","back","home","_e","level","src","makeFileUrl","user","avatar","_v","_s","regards","_m","on","click","goShare","domProps","innerHTML","localText1","localText2","localText3","goAnswer","chance","downloadApp","goTips","show","dialog","share","content","close","closeDialog","ref","crossOrigin","levelData","logoImg","alt","fullname","score","tip","tagImg","value","qrcode","val","size","defaultImg","id","staticRenderFns","resultvue_type_script_lang_js","components","localDialog","localHeader","header","QrcodeVue","qrcode_vue_esm","data","default_share_default","a","beforeRouteEnter","to","from","next","console","log","created","$route","params","IS_WX","initWxConfig","mounted","userShare","regardsAdd","activityId","objectID","drawHtmlToCanvas","computed","Object","objectSpread","vuex_esm","state","endData","awardAmt","statistic","currentQuesitionNum","questions","answerId","userAnswerId","shareData","methods","url","utils","_this","time","setInterval","window","clearInterval","totalAwardAmt","maxAwardAmt","mint_ui_common","updateCurrentQuestionNum","pageTo","$router","push","name","location","href","concat","imgUrl","_this2","container","$refs","canvasContainer","then","img","_ref","result","local_resultvue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_2_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_2_3_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_f3a18a74_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","module","exports","__webpack_require__","p"],"mappings":"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","file":"js/6.b876649e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main local-result\",class:{'in-app': _vm.IS_APP}},[(_vm.IS_APP)?_c('local-header',{attrs:{\"back\":\"\",\"home\":\"\"}}):_vm._e(),_c('div',{staticClass:\"result-wrapper\"},[_c('div',{staticClass:\"content1\"},[_c('div',{staticClass:\"avater\",class:_vm.level == 1 ? 'avater1' : (_vm.level == 2 ? 'avater2' : 'avater3')},[_c('span',{staticClass:\"avater-commen\",class:_vm.level == 1 ? 'avater1-icon' : (_vm.level == 2 ? 'avater2-icon' : 'avater3-icon')}),_c('img',{attrs:{\"src\":_vm.makeFileUrl(_vm.user.avatar)}})]),_c('div',{staticClass:\"regards\"},[_c('span',[_vm._v(_vm._s(_vm.regards))]),_vm._v(\"分\\n      \")]),_vm._m(0)]),_c('div',{staticClass:\"content2\"},[_c('div',{staticClass:\"commen-width animated bounceInDown\",class:_vm.level == 1 ? 'local1-img' : (_vm.level == 2 ? 'local2-img' : 'local3-img')},[_c('div',{staticClass:\"logo animated shake\"}),(_vm.IS_WX)?_c('div',{staticClass:\"go-share animated bounceInDown1\",on:{\"click\":_vm.goShare}},[_vm._v(\"去分享\")]):_vm._e()]),_c('div',{staticClass:\"local-desc localText\",domProps:{\"innerHTML\":_vm._s(_vm.level == 1 ? _vm.localText1 : (_vm.level == 2) ? _vm.localText2 : _vm.localText3)}})]),_c('div',{staticClass:\"content3\"},[_c('div',{staticClass:\"btn-commen go-answer\",on:{\"click\":_vm.goAnswer}},[_vm._v(\"再次答题\")]),_c('div',{staticClass:\"chance-remain\"},[_vm._v(\"剩余\"+_vm._s(_vm.chance >= 0 ? _vm.chance : '0')+\"次答题机会\")]),(_vm.IS_APP)?_c('div',{staticClass:\"btn-commen get-cash animated zoomIn\",on:{\"click\":_vm.downloadApp}},[_vm._v(\"去分享\")]):(_vm.level == 1)?_c('div',{staticClass:\"btn-commen get-cash animated zoomIn\",on:{\"click\":_vm.downloadApp}},[_vm._v(\"领5元奖励\")]):(_vm.level == 2)?_c('div',{staticClass:\"btn-commen get-cash animated zoomIn\",on:{\"click\":_vm.downloadApp}},[_vm._v(\"领2元奖励\")]):(_vm.level == 3)?_c('div',{staticClass:\"btn-commen get-cash animated zoomIn\",on:{\"click\":_vm.downloadApp}},[_vm._v(\"下载APP\")]):_vm._e(),(_vm.IS_APP)?_c('div',{staticClass:\"text-commen go-wallet\"},[_vm._v(\"去“我的-钱包”查看\")]):_c('div',{staticClass:\"text-commen go-wallet\"},[_vm._v(\"下载贴近APP，去“我的-钱包”查看\")]),_c('div',{staticClass:\"text-commen tips\",on:{\"click\":_vm.goTips}},[_vm._v(\"提高正确率，请查看攻略\"),_c('span',{staticClass:\"arrow\"})])]),_c('local-dialog',{attrs:{\"show\":_vm.dialog.show,\"share\":_vm.dialog.share,\"content\":_vm.dialog.content},on:{\"close\":_vm.closeDialog}})],1),_c('div',{ref:\"canvasContainer\",staticClass:\"share-box\"},[(_vm.answerId)?_c('div',{staticClass:\"share-score\"},[_c('div',{staticClass:\"share-user-img\"},[_c('img',{staticClass:\"share-user-avatar\",attrs:{\"src\":_vm.makeFileUrl(_vm.user.avatar),\"crossOrigin\":\"Anonymous\"}}),_c('div',{staticClass:\"share-user-filter\"},[_c('img',{attrs:{\"src\":_vm.levelData.logoImg,\"alt\":\"\"}})])]),_c('div',{staticClass:\"share-user-name\"},[_vm._v(_vm._s(_vm.user.fullname))]),_c('div',{staticClass:\"share-desc\"},[_vm._v(\"\\n        在【谁是成都最土著】中获得\\n        \"),_c('span',{staticClass:\"share-desc-score\"},[_vm._v(\" \"+_vm._s(_vm.score))]),_vm._v(\" 分，\\n        \"),_c('br'),_c('span',{staticClass:\"share-desc-tip\"},[_vm._v(_vm._s(_vm.levelData.tip))])]),_vm._m(1),_c('div',{staticClass:\"share-tag\"},[_c('img',{attrs:{\"src\":_vm.levelData.tagImg,\"alt\":\"\"}})]),_c('div',{staticClass:\"share-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1),_c('div',{staticClass:\"share-tip\"},[_vm._v(\"长按识别二维码参与游戏，和他Pk吧\")])]):_c('div',{staticClass:\"share-default\"},[_c('img',{staticClass:\"share-default-bg\",attrs:{\"src\":_vm.defaultImg,\"alt\":\"\"}}),_c('div',{staticClass:\"share-qrcode\"},[_c('qrcode-vue',{attrs:{\"value\":_vm.qrcode.val,\"size\":_vm.qrcode.size}})],1)]),_c('img',{staticClass:\"share-img\",attrs:{\"id\":\"share-img\",\"src\":\"\"}})])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"local-name box box-lr box-center-center\"},[_c('div',{staticClass:\"line left\"}),_c('div',{staticClass:\"name\"},[_vm._v(\"获得称号\")]),_c('div',{staticClass:\"line right\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share-title box box-lr box-center-center\"},[_c('div',{staticClass:\"line left\"}),_c('div',{staticClass:\"name\"},[_vm._v(\"获得称号\")]),_c('div',{staticClass:\"line right\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"main local-result\" :class=\"{'in-app': IS_APP}\">\n    <local-header v-if=\"IS_APP\" back home></local-header>\n    <div class=\"result-wrapper\">\n      <div class=\"content1\">\n        <div class=\"avater\" :class=\"level == 1 ? 'avater1' : (level == 2 ? 'avater2' : 'avater3')\">\n          <span class=\"avater-commen\" :class=\"level == 1 ? 'avater1-icon' : (level == 2 ? 'avater2-icon' : 'avater3-icon')\"></span>\n          <img :src=\"makeFileUrl(user.avatar)\">\n        </div>\n        <div class=\"regards\">\n          <span>{{regards}}</span>分\n        </div>\n        <div class=\"local-name box box-lr box-center-center\">\n          <div class=\"line left\"></div>\n          <div class=\"name\">获得称号</div>\n          <div class=\"line right\"></div>\n        </div>\n      </div>\n      <div class=\"content2\">\n        <div class=\"commen-width animated bounceInDown\" :class=\"level == 1 ? 'local1-img' : (level == 2 ? 'local2-img' : 'local3-img')\">\n          <div class=\"logo animated shake\"></div>\n          <div class=\"go-share animated bounceInDown1\" v-if=\"IS_WX\" @click=\"goShare\">去分享</div>\n        </div>\n        <div class=\"local-desc localText\" v-html=\"level == 1 ? localText1 : (level == 2) ? localText2 : localText3\">\n        </div>\n      </div>\n      <div class=\"content3\">\n        <div class=\"btn-commen go-answer\" @click=\"goAnswer\">再次答题</div>\n        <div class=\"chance-remain\">剩余{{chance >= 0 ? chance : '0'}}次答题机会</div>\n        <div class=\"btn-commen get-cash animated zoomIn\" @click=\"downloadApp\" v-if=\"IS_APP\">去分享</div>\n        <div class=\"btn-commen get-cash animated zoomIn\" @click=\"downloadApp\" v-else-if=\"level == 1\">领5元奖励</div>\n        <div class=\"btn-commen get-cash animated zoomIn\" @click=\"downloadApp\" v-else-if=\"level == 2\">领2元奖励</div>\n        <div class=\"btn-commen get-cash animated zoomIn\" @click=\"downloadApp\" v-else-if=\"level == 3\">下载APP</div>\n        <div class=\"text-commen go-wallet\" v-if=\"IS_APP\">去“我的-钱包”查看</div>\n        <div class=\"text-commen go-wallet\" v-else>下载贴近APP，去“我的-钱包”查看</div>\n        <div class=\"text-commen tips\" @click=\"goTips\">提高正确率，请查看攻略<span class=\"arrow\"></span> </div>\n      </div>\n      <local-dialog :show=\"dialog.show\" :share=\"dialog.share\" :content=\"dialog.content\" @close=\"closeDialog\"></local-dialog>\n    </div>\n    <div ref=\"canvasContainer\" class=\"share-box\">\n      <div v-if=\"answerId\" class=\"share-score\">\n        <div class=\"share-user-img\">\n          <img :src=\"makeFileUrl(user.avatar)\" class=\"share-user-avatar\" crossOrigin=\"Anonymous\">\n          <div class=\"share-user-filter\">\n            <img :src=\"levelData.logoImg\" alt=\"\">\n          </div>\n        </div>\n        <div class=\"share-user-name\">{{user.fullname}}</div>\n        <div class=\"share-desc\">\n          在【谁是成都最土著】中获得\n          <span class=\"share-desc-score\"> {{score}}</span> 分，\n          <br/>\n          <span class=\"share-desc-tip\">{{levelData.tip}}</span>\n        </div>\n        <div class=\"share-title box box-lr box-center-center\">\n          <div class=\"line left\"></div>\n          <div class=\"name\">获得称号</div>\n          <div class=\"line right\"></div>\n        </div>\n        <div class=\"share-tag\">\n          <img :src=\"levelData.tagImg\" alt=\"\">\n        </div>\n        <div class=\"share-qrcode\">\n          <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n        </div>\n        <div class=\"share-tip\">长按识别二维码参与游戏，和他Pk吧</div>\n      </div>\n      <div v-else class=\"share-default\">\n        <img :src=\"defaultImg\" alt=\"\" class=\"share-default-bg\">\n        <div class=\"share-qrcode\">\n          <qrcode-vue :value=\"qrcode.val\" :size=\"qrcode.size\"></qrcode-vue>\n        </div>\n      </div>\n      <img class=\"share-img\" id=\"share-img\" src=\"\">\n    </div>\n  </div>\n</template>\n\n<script>\n  import {\n    mapState,\n    mapActions,\n    mapMutations\n  } from \"vuex\"\n  import {\n    Toast\n  } from 'mint-ui'\n  import {\n    downloadApp\n  } from '../../../utils/utils'\n  import localDialog from '../components/dialog'\n  import localHeader from '../components/header';\n  import defaultImg from '../assets/images/default_share.png';\n  import QrcodeVue from 'qrcode.vue';\n  \n  import {\n    addParamsForUrl,\n    makeFileUrl,\n    html2Image,\n    tjUploadFile,\n  } from '../../../utils/utils'\n  export default {\n    components: {\n      localDialog,\n      localHeader,\n      QrcodeVue\n    },\n    data() {\n      return {\n        // btnText: \"下载APP\",\n        regards: 0,\n        // awardAmt: 0,\n        // chance: 0,\n        // score: 0,\n        // level: '',\n        localText1: '同样是九年义务教育，为什么你那么优秀？你“土”的一览众山小，谁都没你DIAO',\n        localText2: '恭喜你获得2元奖励，但你对成都了解还不够多哦！冲击满分赢5元！',\n        localText3: '盆友，你是路过成都吗？得满分可以领5元现<br/>金，再试试吧',\n        // 弹窗\n        dialog: {\n          // 是否显示弹窗\n          show: false,\n          // 是否为分享弹窗\n          share: false,\n          // 弹窗文字内容\n          content: '呃~没有答题机会了，<br/>快去分享给好友获取答题机会吧！'\n        },\n        qrcode: {\n          val: 'https://a.tiejin.cn/local',\n          size: 80\n        },\n        defaultImg: defaultImg\n      }\n    },\n    beforeRouteEnter(to, from, next) {\n      console.log(to, from)\n      // if (/^\\/local\\/(share|answer)/.test(from.path)) {\n      //   next();\n      // } else {\n      //   next('/local')\n      // }\n      next();\n    },\n    created() {\n  \n      console.log(\"parkk\", this.$route.params.from)\n  \n      // if (this.$route.params.from != 'answer') {\n      //   this.$router.push({\n      //     name: 'localIndex'\n      //   })\n      //   return\n      // }\n      if (this.IS_WX) {\n        this.initWxConfig()\n      }\n    },\n    mounted() {\n      // this.chance = this.$store.state.local.statistic.chance\n      // this.score = this.endData.score ? this.endData.score : ''\n      // this.level = this.endData.level\n      // this.awardAmt = this.endData.awardAmt\n      this.userShare();\n      if (this.score != '') {\n        this.regardsAdd();\n      } else {\n        let data = {\n          activityId: this.activityId\n        }\n        if (this.user.objectID) {\n          data['inviter'] = this.user.objectID;\n        }\n      }\n      this.drawHtmlToCanvas()\n    },\n    computed: {\n      ...mapState(['IS_DEV', 'IS_APP', 'IS_WX']),\n      ...mapState('local', {\n        user: state => state.user,\n        score: state => state.endData.score,\n        level: state => state.endData.level,\n        awardAmt: state => state.endData.awardAmt,\n        chance: state => state.statistic.chance,\n        currentQuesitionNum: state => state.questions.currentQuesitionNum,\n        statistic: state => state.statistic,\n        endData: state => state.endData,\n        activityId: state => state.activityId,\n        answerId: state => state.endData.userAnswerId,\n        shareData: state => state.shareData,\n      })\n    },\n    methods: {\n      ...mapActions('local', [\n        \"updateChance\",\n        \"initWxConfig\",\n        \"userShare\",\n        \"updateCurrentQuestionNum\"\n      ]),\n      makeFileUrl(url) {\n        let avatar = makeFileUrl(url)\n        console.log('result:avatar:', avatar)\n        return avatar\n      },\n      regardsAdd() {\n        if (this.regards > this.score) {\n          return\n        }\n        var time = setInterval(() => {\n          this.regards++\n            if (this.regards >= this.score) {\n              this.regards = this.score\n              window.clearInterval(time)\n              return\n            }\n        }, 10)\n      },\n      goAnswer() {\n        if (this.statistic.totalAwardAmt >= this.statistic.maxAwardAmt) {\n          Toast('您已经获得奖励100元，不能再答题了~')\n          return\n        }\n        if (this.chance > 0) {\n          this.updateCurrentQuestionNum()\n          window.pageTo = 'answer'\n          this.$router.push({\n            name: 'localAnswer',\n            params: {\n              from: 'playAgain'\n            }\n          })\n        } else {\n          this.dialog.show = true\n          this.dialog.share = true\n        }\n  \n      },\n      closeDialog() {\n        this.dialog.show = false;\n      },\n      downloadApp() {\n        if (this.IS_APP) {\n          // 去分享\n          this.$router.push({\n            name: 'localShare'\n          })\n        } else {\n          downloadApp()\n        }\n      },\n      goShare() {\n        if (this.IS_WX) {\n          // this.$router.push({\n          //   name: 'localShare'\n          // })\n          location.href = `/static/share.html?path=${this.imgUrl}`\n        }\n      },\n      drawHtmlToCanvas() {\n        let container = this.$refs.canvasContainer;\n        html2Image(container).then(img => {\n          tjUploadFile(img).then(({\n            data\n          }) => {\n            this.imgUrl = data.result.url;\n            console.log(this.imgUrl)\n          })\n        })\n      },\n      goTips() {\n        if (this.IS_APP) {\n          // 跳转app内部详情页\n          location.href = 'closer://community/9Mj8OC0TUL'\n        } else {\n          // 跳转对应栏目页\n          location.href = 'https://h5.tiejin.cn/community/9Mj8OC0TUL'\n        }\n      }\n    }\n  };\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../assets/style/main.less';\n  @import '../assets/style/animation.less';\n  @import '../assets/style/result.less';\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=f3a18a74&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=f3a18a74&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f3a18a74\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f3a18a74&lang=less&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=f3a18a74&lang=less&scoped=true\"","module.exports = __webpack_public_path__ + \"img/default_share.f4b583de.png\";"],"sourceRoot":""}