(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{IC5M:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"main local-result",class:{"in-app":t.IS_APP}},[t.IS_APP?s("local-header",{attrs:{back:"",home:""}}):t._e(),s("div",{staticClass:"result-wrapper"},[s("div",{staticClass:"content1"},[s("div",{staticClass:"avater",class:1==t.level?"avater1":2==t.level?"avater2":"avater3"},[s("span",{staticClass:"avater-commen",class:1==t.level?"avater1-icon":2==t.level?"avater2-icon":"avater3-icon"}),s("img",{attrs:{src:t.makeFileUrl(t.user.avatar)}})]),s("div",{staticClass:"regards"},[s("span",[t._v(t._s(t.regards))]),t._v("分\n      ")]),t._m(0)]),s("div",{staticClass:"content2"},[s("div",{staticClass:"commen-width animated bounceInDown",class:1==t.level?"local1-img":2==t.level?"local2-img":"local3-img"},[s("div",{staticClass:"logo animated shake"}),t.IS_WX?s("div",{staticClass:"go-share animated bounceInDown1",on:{click:t.goShare}},[t._v("去分享")]):t._e()]),s("div",{staticClass:"local-desc localText",domProps:{innerHTML:t._s(1==t.level?t.localText1:2==t.level?t.localText2:t.localText3)}})]),s("div",{staticClass:"content3"},[s("div",{staticClass:"btn-commen go-answer",on:{click:t.goAnswer}},[t._v("再次答题")]),s("div",{staticClass:"chance-remain"},[t._v("剩余"+t._s(t.chance>=0?t.chance:"0")+"次答题机会")]),t.IS_APP?s("div",{staticClass:"btn-commen get-cash animated zoomIn",on:{click:t.downloadApp}},[t._v("去分享")]):1==t.level?s("div",{staticClass:"btn-commen get-cash animated zoomIn",on:{click:t.downloadApp}},[t._v("领5元奖励")]):2==t.level?s("div",{staticClass:"btn-commen get-cash animated zoomIn",on:{click:t.downloadApp}},[t._v("领2元奖励")]):3==t.level?s("div",{staticClass:"btn-commen get-cash animated zoomIn",on:{click:t.downloadApp}},[t._v("下载APP")]):t._e(),t.IS_APP?s("div",{staticClass:"text-commen go-wallet"},[t._v("去“我的-钱包”查看")]):s("div",{staticClass:"text-commen go-wallet"},[t._v("下载贴近APP，去“我的-钱包”查看")]),s("div",{staticClass:"text-commen tips",on:{click:t.goTips}},[t._v("提高正确率，请查看攻略"),s("span",{staticClass:"arrow"})])]),s("local-dialog",{attrs:{show:t.dialog.show,share:t.dialog.share,content:t.dialog.content},on:{close:t.closeDialog}})],1),s("div",{ref:"canvasContainer",staticClass:"share-box"},[t.answerId?s("div",{staticClass:"share-score"},[s("div",{staticClass:"share-user-img"},[s("img",{staticClass:"share-user-avatar",attrs:{src:t.makeFileUrl(t.user.avatar),crossOrigin:"Anonymous"}}),s("div",{staticClass:"share-user-filter"},[s("img",{attrs:{src:t.levelData.logoImg,alt:""}})])]),s("div",{staticClass:"share-user-name"},[t._v(t._s(t.user.fullname))]),s("div",{staticClass:"share-desc"},[t._v("\n        在【谁是成都最土著】中获得\n        "),s("span",{staticClass:"share-desc-score"},[t._v(" "+t._s(t.score))]),t._v(" 分，\n        "),s("br"),s("span",{staticClass:"share-desc-tip"},[t._v(t._s(t.levelData.tip))])]),t._m(1),s("div",{staticClass:"share-tag"},[s("img",{attrs:{src:t.levelData.tagImg,alt:""}})]),s("div",{staticClass:"share-qrcode"},[s("qrcode-vue",{attrs:{value:t.qrcode.val,size:t.qrcode.size}})],1),s("div",{staticClass:"share-tip"},[t._v("长按识别二维码参与游戏，和他Pk吧")])]):s("div",{staticClass:"share-default"},[s("img",{staticClass:"share-default-bg",attrs:{src:t.defaultImg,alt:""}}),s("div",{staticClass:"share-qrcode"},[s("qrcode-vue",{attrs:{value:t.qrcode.val,size:t.qrcode.size}})],1)]),s("img",{staticClass:"share-img",attrs:{id:"share-img",src:""}})])],1)},i=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"local-name box box-lr box-center-center"},[s("div",{staticClass:"line left"}),s("div",{staticClass:"name"},[t._v("获得称号")]),s("div",{staticClass:"line right"})])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"share-title box box-lr box-center-center"},[s("div",{staticClass:"line left"}),s("div",{staticClass:"name"},[t._v("获得称号")]),s("div",{staticClass:"line right"})])}],n=s("yT7P"),c=(s("VRzm"),s("L2JU")),r=s("dqDD"),l=s("+n12"),o=s("9ijR"),d=s("OHX4"),v=s("qtr8"),u=s.n(v),h=s("17CV"),m={components:{localDialog:o["a"],localHeader:d["a"],QrcodeVue:h["a"]},data:function(){return{regards:0,localText1:"同样是九年义务教育，为什么你那么优秀？你“土”的一览众山小，谁都没你DIAO",localText2:"恭喜你获得2元奖励，但你对成都了解还不够多哦！冲击满分赢5元！",localText3:"盆友，你是路过成都吗？得满分可以领5元现<br/>金，再试试吧",dialog:{show:!1,share:!1,content:"呃~没有答题机会了，<br/>快去分享给好友获取答题机会吧！"},qrcode:{val:"https://a.tiejin.cn/local",size:80},defaultImg:u.a}},beforeRouteEnter:function(t,a,s){console.log(t,a),s()},created:function(){console.log("parkk",this.$route.params.from),this.IS_WX&&this.initWxConfig()},mounted:function(){if(this.userShare(),""!=this.score)this.regardsAdd();else{var t={activityId:this.activityId};this.user.objectID&&(t["inviter"]=this.user.objectID)}this.drawHtmlToCanvas()},computed:Object(n["a"])({},Object(c["d"])(["IS_DEV","IS_APP","IS_WX"]),Object(c["d"])("local",{user:function(t){return t.user},score:function(t){return t.endData.score},level:function(t){return t.endData.level},awardAmt:function(t){return t.endData.awardAmt},chance:function(t){return t.statistic.chance},currentQuesitionNum:function(t){return t.questions.currentQuesitionNum},statistic:function(t){return t.statistic},endData:function(t){return t.endData},activityId:function(t){return t.activityId},answerId:function(t){return t.endData.userAnswerId},shareData:function(t){return t.shareData}})),methods:Object(n["a"])({},Object(c["b"])("local",["updateChance","initWxConfig","userShare","updateCurrentQuestionNum"]),{makeFileUrl:function(t){var a=Object(l["i"])(t);return console.log("result:avatar:",a),a},regardsAdd:function(){var t=this;if(!(this.regards>this.score))var a=setInterval(function(){if(t.regards++,t.regards>=t.score)return t.regards=t.score,void window.clearInterval(a)},10)},goAnswer:function(){this.statistic.totalAwardAmt>=this.statistic.maxAwardAmt?Object(r["Toast"])("您已经获得奖励100元，不能再答题了~"):this.chance>0?(this.updateCurrentQuestionNum(),window.pageTo="answer",this.$router.push({name:"localAnswer",params:{from:"playAgain"}})):(this.dialog.show=!0,this.dialog.share=!0)},closeDialog:function(){this.dialog.show=!1},downloadApp:function(){this.IS_APP?this.$router.push({name:"localShare"}):Object(l["d"])()},goShare:function(){this.IS_WX&&(location.href="/static/share.html?path=".concat(this.imgUrl))},drawHtmlToCanvas:function(){var t=this,a=this.$refs.canvasContainer;Object(l["f"])(a).then(function(a){Object(l["l"])(a).then(function(a){var s=a.data;t.imgUrl=s.result.url,console.log(t.imgUrl)})})},goTips:function(){this.IS_APP?location.href="closer://community/9Mj8OC0TUL":location.href="https://h5.tiejin.cn/community/9Mj8OC0TUL"}})},g=m,f=(s("U67l"),s("KHd+")),C=Object(f["a"])(g,e,i,!1,null,"f3a18a74",null);a["default"]=C.exports},JisL:function(t,a,s){},U67l:function(t,a,s){"use strict";var e=s("JisL"),i=s.n(e);i.a},qtr8:function(t,a,s){t.exports=s.p+"img/default_share.f4b583de.png"}}]);
//# sourceMappingURL=6.b876649e.js.map