(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"3mO2":function(t,s,a){"use strict";a.r(s);var i=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"main local-index",class:{"in-app":t.IS_APP}},[t.IS_APP?a("local-header",{attrs:{close:"",share:""}}):t._e(),a("section",{staticClass:"tab"},[a("div",{staticClass:"tab-default tab-left",on:{click:function(s){t.showRankingList()}}},[t._v("好友排行榜")]),a("div",{staticClass:"tab-default tab-right",on:{click:function(s){t.showRule()}}},[t._v("活动规则")])]),a("section",{staticClass:"hd animated bounceInDown fast"},[a("div",{staticClass:"hd-default hd-1",class:{active:t.mounted}}),a("div",{staticClass:"hd-default hd-2",class:{active:t.mounted}}),a("div",{staticClass:"hd-default hd-3",class:{active:t.mounted}}),a("div",{staticClass:"hd-default hd-4",class:{active:t.mounted}}),a("div",{staticClass:"hd-img"})]),a("section",{staticClass:"bd",class:{active:t.mounted}},[a("div",{staticClass:"bd-progress"},[a("div",{staticClass:"bd-complete",style:{width:t.currentWidth}})]),a("div",{staticClass:"bd-scale"},[a("div",{staticClass:"bd-scale-default bd-scale-0",class:{active:t.statistic.totalAwardAmt>t.showAmount(0)}},[a("span",{staticClass:"bd-arrow bd-arrow-left"}),a("span",{staticClass:"bd-scale-amount"},[t._v(t._s(t.showAmount(0,2)))])]),a("div",{staticClass:"bd-scale-default bd-scale-50",class:{active:t.statistic.totalAwardAmt>=t.showAmount(.5)}},[a("span",{staticClass:"bd-arrow bd-arrow-center"}),a("span",{staticClass:"bd-scale-amount"},[t._v(t._s(t.showAmount(.5,2)))])]),a("div",{staticClass:"bd-scale-default bd-scale-100",class:{active:t.statistic.totalAwardAmt>=t.showAmount(1)}},[a("span",{staticClass:"bd-arrow bd-arrow-right"}),a("span",{staticClass:"bd-scale-amount"},[t._v(t._s(t.showAmount(1,2)))])])]),a("div",{staticClass:"bd-total"},[t._v("\n      累计获得：\n      "),a("span",{staticClass:"bd-count"},[t._v(t._s(t.currentTotalAmount))]),t._v(" 元\n    ")]),a("div",{staticClass:"bd-desc",domProps:{innerHTML:t._s(t.currentDesc)}}),a("div",{staticClass:"bd-btn animated pulse infinite delay-2",on:{click:function(s){t.handleStart()}}}),a("div",{staticClass:"bd-remain"},[t._v("您还有"+t._s(t.statistic.chance)+"次答题机会")])]),a("section",{staticClass:"ft"}),a("local-dialog",{attrs:{show:t.dialog.show,share:t.dialog.share,content:t.dialog.content},on:{close:t.closeDialog}})],1)},c=[],n=a("yT7P"),e=(a("VRzm"),a("Kw5r"),a("9ijR")),o=a("OHX4"),l=a("L2JU"),d=a("+n12"),r={name:"localIndex",data:function(){return{currentWidth:0,mounted:!1,dialog:{show:!1,share:!1,content:"呃~没有答题机会了，<br/>快去分享给好友获取答题机会吧！"}}},components:{localDialog:e["a"],localHeader:o["a"]},computed:Object(n["a"])({},Object(l["d"])("local",["isLogin","statistic"]),Object(l["d"])(["IS_APP","IS_WX"]),{remainTimesToMax:function(){return Math.ceil(Object(d["l"])(this.statistic.maxAwardAmt-this.statistic.totalAwardAmt)/5)},currentTotalAmount:function(){return(this.statistic.totalAwardAmt/100).toFixed(0)},currentDesc:function(){return 0==this.remainTimesToMax?"恭喜，您已获得全部".concat(Object(d["l"])(this.statistic.maxAwardAmt),"元的现金奖励~"):'您再获得<span style="color: #f20707;">'.concat(this.remainTimesToMax,"次</span>王者称号就可以拿到总计").concat(Object(d["l"])(this.statistic.maxAwardAmt),"元的现金奖励了！")}}),created:function(){var t=this,s=this;s.checkParams(s.$route.query),s.isLogin?s.getStatistic():s.IS_APP?s.checkLoginInApp(s.getStatistic):s.IS_WX&&s.getUserInfoAndLoginWithWx(s.$route.query).then(function(a){a?(s.getStatistic(),s.initWxConfig()):(t.dialog.share=!1,t.dialog.content="亲，请先登录再参与答题吧~",t.dialog.show=!0)})},methods:Object(n["a"])({},Object(l["b"])("local",["checkParams","checkLoginInApp","getUserInfoAndLoginWithWx","getStatistic","initWxConfig"]),Object(l["c"])("local",["SET_USER"]),{showAmount:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseInt(this.statistic.maxAwardAmt*t/Math.pow(10,s))},showRankingList:function(){this.isLogin?this.checkOtherEnv()&&this.$router.push({name:"localRank"}):this.checkLoginInApp(this.getStatistic)},showRule:function(){this.$router.push({name:"localRule"})},handleStart:function(){this.isLogin?this.checkOtherEnv(!0)&&this.$router.push({name:"localAnswer"}):this.checkLoginInApp(this.getStatistic)},closeDialog:function(){this.dialog.show=!1},checkOtherEnv:function(t){return console.log(this.statistic.chance),this.IS_APP||this.IS_WX?this.statistic.chance<=0&&t?(this.dialog={share:!0,content:"亲，没有答题机会了~<br/>快去分享给好友获取答题机会吧！",show:!0},!1):!(this.remainTimesToMax<=0&&t)||(this.dialog={share:!1,content:"亲，您已经获得全部奖励~<br/>",show:!0},!1):(this.dialog={share:!1,content:"亲，请去微信环境下答题吧",show:!0},!1)},setCurrentWidth:function(){return this.currentWidth=100*this.statistic.totalAwardAmt/this.statistic.maxAwardAmt+"%"}}),mounted:function(){var t=this;setTimeout(function(){t.mounted=!0,t.setCurrentWidth()},800)}},h=r,u=(a("OQVb"),a("KHd+")),m=Object(u["a"])(h,i,c,!1,null,"53157a9f",null);s["default"]=m.exports},OQVb:function(t,s,a){"use strict";var i=a("bzML"),c=a.n(i);c.a},bzML:function(t,s,a){}}]);
//# sourceMappingURL=7.fd295792.js.map