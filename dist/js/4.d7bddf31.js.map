{"version":3,"sources":["webpack:///./src/pages/local/share/index.vue?f9e4","webpack:///./src/pages/local/share/index.vue?7f1c","webpack:///src/pages/local/share/index.vue","webpack:///./src/pages/local/share/index.vue?fafd","webpack:///./src/pages/local/share/index.vue","webpack:///./node_modules/@babel/runtime/helpers/builtin/es6/objectSpread.js"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_10_oneOf_2_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_10_oneOf_2_2_node_modules_less_loader_dist_cjs_js_ref_10_oneOf_2_3_node_modules_vue_loader_lib_index_js_vue_loader_options_index_vue_vue_type_style_index_0_id_3f1eaa6f_lang_less_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","src","shareData","on","click","$event","toShare","_v","staticRenderFns","sharevue_type_script_lang_js","data","isApp","$store","state","IS_APP","isLogin","created","console","log","userShare","computed","Object","objectSpread","vuex_esm","mounted","_mounted","asyncToGenerator","regeneratorRuntime","mark","_callee","wxConfig","wrap","_context","prev","next","wechatConfig","sent","signature","appId","nonceStr","timestamp","wx","config","debug","IS_DEV","jsApiList","ready","onMenuShareAppMessage","title","desc","link","location","href","imgUrl","type","dataUrl","success","onMenuShareTimeline","error","res","stop","apply","arguments","methods","ua","UA","indexOf","setupWebViewJavascriptBridge","bridge","callHandler","img","responseCallback","window","inviteNewerAction","e","mint_ui_common","local_sharevue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","_objectSpread","target","i","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty__WEBPACK_IMPORTED_MODULE_0__"],"mappings":"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","file":"js/4.d7bddf31.js","sourcesContent":["import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3f1eaa6f&lang=less&scoped=true\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/index.js??ref--10-oneOf-2-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--10-oneOf-2-2!../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-2-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=3f1eaa6f&lang=less&scoped=true\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"share-wrapper\"},[(_vm.isApp)?_c('div',{staticClass:\"is-app\"},[_c('div',{staticClass:\"share-img\"},[_c('img',{attrs:{\"src\":_vm.shareData}})]),_c('div',{staticClass:\"share-items box box-lr box-center-center\"},[_c('div',{staticClass:\"item item1 box box-tb box-center-center\",on:{\"click\":function($event){_vm.toShare('inviteNewGuyActionWeChat')}}},[_c('span',{staticClass:\"weixin\"}),_c('span',[_vm._v(\"好友\")])]),_c('div',{staticClass:\"item item2 box box-tb box-center-center\",on:{\"click\":function($event){_vm.toShare('inviteNewGuyActionWxTimeLine')}}},[_c('span',{staticClass:\"pyq\"}),_c('span',[_vm._v(\"朋友圈\")])]),_c('div',{staticClass:\"item item3 box box-tb box-center-center\",on:{\"click\":function($event){_vm.toShare('inviteNewGuyActionSavePicture')}}},[_c('span',{staticClass:\"download\"}),_c('span',[_vm._v(\"保存至相册\")])])])]):_c('div',{staticClass:\"is-weixin\"},[_c('img',{attrs:{\"src\":_vm.shareData}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"share-wrapper\" >\n    <div class=\"is-app\" v-if=\"isApp\">\n      <div class=\"share-img\">\n        <img :src=\"shareData\" />\n      </div>\n      <div class=\"share-items box box-lr box-center-center\">\n        <div class=\"item item1 box box-tb box-center-center\" @click=\"toShare('inviteNewGuyActionWeChat')\">\n          <span class=\"weixin\"></span>\n          <span>好友</span>\n        </div>\n        <div class=\"item item2 box box-tb box-center-center\" @click=\"toShare('inviteNewGuyActionWxTimeLine')\">\n          <span class=\"pyq\"></span>\n          <span>朋友圈</span>\n        </div>\n        <div class=\"item item3 box box-tb box-center-center\" @click=\"toShare('inviteNewGuyActionSavePicture')\">\n          <span class=\"download\"></span>\n          <span>保存至相册</span>\n        </div>\n      </div>\n    </div>\n    <div class=\"is-weixin\" v-else>\n      <img :src=\"shareData\" />\n    </div>\n  </div>\n</template>\n\n<script>\n  import {\n    Toast\n  } from 'mint-ui';\n  import {\n    mapState,\n    mapActions\n  } from \"vuex\";\n  export default {\n    data() {\n      return {\n        isApp: this.$store.state.IS_APP,\n        isLogin: false\n      }\n    },\n    created() {\n      console.log('isAPP', this.isApp)\n      this.userShare()\n    },\n    computed: {\n      ...mapState('local', {\n        shareData: state => state.shareData\n      })\n    },\n    async mounted() {\n      if (!this.isApp) {\n        let wxConfig = await this.wechatConfig();\n        console.log('wxConfig', wxConfig)\n        if (wxConfig && wxConfig.signature && wxConfig.appId && wxConfig.nonceStr && wxConfig.timestamp) {\n          wx.config({\n            \"debug\": this.$store.state.IS_DEV, // 开启调试模式,调用的所有api的返回值会在客户端alert出来，若要查看传入的参数，可以在pc端打开，参数信息会通过log打出，仅在pc端时才会打印。\n            \"signature\": wxConfig.signature,\n            \"appId\": wxConfig.appId,\n            \"nonceStr\": wxConfig.nonceStr,\n            \"timestamp\": wxConfig.timestamp,\n            jsApiList: ['onMenuShareTimeline', 'onMenuShareAppMessage'] // 必填，需要使用的JS接口列表\n          });\n          wx.ready(function() {\n            console.log(\"ready\")\n            // 分享朋友\n            wx.onMenuShareAppMessage({\n              title: '是成都人就来瓜分百万大奖', // 分享标题\n              desc: '参与成都人纯度测试，纯度越高，奖金越多！', // 分享描述\n              link: location.href, // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\n              imgUrl: '', // 分享图标\n              type: '', // 分享类型,music、video或link，不填默认为link\n              dataUrl: '', // 如果type是music或video，则要提供数据链接，默认为空\n              success: function() {\n                // 用户点击了分享后执行的回调函数\n              }\n            })\n  \n            // 分享朋友圈\n            wx.onMenuShareTimeline({\n              title: '是成都人就来瓜分百万大奖', // 分享标题\n              link: 'location.href', // 分享链接，该链接域名或路径必须与当前页面对应的公众号JS安全域名一致\n              imgUrl: '', // 分享图标\n              success: function() {\n                // 用户点击了分享后执行的回调函数\n              }\n            })\n            // config信息验证后会执行ready方法，所有接口调用都必须在config接口获得结果之后，config是一个客户端的异步操作，所以如果需要在页面加载时就调用相关接口，则须把相关接口放在ready函数中调用来确保正确执行。对于用户触发时才调用的接口，则可以直接调用，不需要放在ready函数中。\n          })\n          wx.error(function(res) {\n            console.log(\"error\", res)\n            // config信息验证失败会执行error函数，如签名过期导致验证失败，具体错误信息可以打开config的debug模式查看，也可以在返回的res参数中查看，对于SPA可以在这里更新签名。\n          });\n        }\n      }\n    },\n    methods: {\n      ...mapActions(\"local\", [\n        \"wechatConfig\",\n        \"userShare\",\n        \"checkLoginInApp\"\n      ]),\n      toShare(type) {\n        let ua = this.$store.state.UA\n        console.log('share--', ua)\n        if (ua.indexOf(\"closer-ios\") > -1) {\n          setupWebViewJavascriptBridge(function(bridge) {\n            console.log(\"toShare ios bridge\", bridge)\n            if (bridge) {\n              bridge.callHandler(\"inviteNewerAction\", {\n                \"type\": type,\n                \"img\": this.shareData\n              }, function(data, responseCallback) {})\n            }\n          })\n        } else if (ua.indexOf(\"closer-android\") > -1) {\n          console.log(\"toShare android bridge\", bridge)\n          if (typeof window.bridge != \"undefined\") {\n            try {\n              window.bridge.inviteNewerAction({\n                \"type\": type,\n                \"img\": this.shareData\n              });\n            } catch (e) {\n              Toast(\"请升级最新版本客户端\")\n            }\n          }\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"less\" scoped>\n  @import '../assets/style/share.less';\n</style>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=3f1eaa6f&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=3f1eaa6f&lang=less&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3f1eaa6f\",\n  null\n  \n)\n\nexport default component.exports","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}"],"sourceRoot":""}